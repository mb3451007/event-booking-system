<div class="container-fluid">
  <div class="row flex-column flex-md-row">
    
    <!-- Header (Always on top) -->
    <div class="col-12">
      <app-header></app-header>
    </div>

    <!-- Sidebar -->
    <div 
      [ngClass]="{
        'col-12': isMobileScreen(),
        'col-md-2': !isMobileScreen() && sidebarVisible,
        'd-none': !sidebarVisible && !isMobileScreen()
      }"
      class="sidebar transition-width order-2 order-md-1"
      id="sidebar"
    >
      <div class="sidebar-inner" [@slideInOut]="sidebarVisible ? 'in' : 'out'">
        <app-side-bar></app-side-bar>
      </div>
    </div>

    <!-- Main Content -->
    <div
      [ngClass]="{
        'col-12': isMobileScreen(),
        'col-md-10': sidebarVisible && !isMobileScreen(),
        'col-md-12': !sidebarVisible && !isMobileScreen()
      }"
      class="main-content order-3 order-md-2"
    >
      <div class="content-wrapper">
        <div class="router-section">
          <router-outlet></router-outlet>
        </div>
        <div class="footer">
          <app-footer></app-footer>
        </div>
      </div>
    </div>
  </div>
</div>
